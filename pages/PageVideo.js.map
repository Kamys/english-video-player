{"version":3,"file":"PageVideo.js","sourceRoot":"","sources":["../../src/pages/PageVideo.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAC5D,OAAO,EAAE,QAAQ,EAAE,MAAM,gBAAgB,CAAA;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAA;AAC3C,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAA;AAC3C,OAAO,EAAE,iBAAiB,EAAE,MAAM,iCAAiC,CAAA;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAA;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAA;AAC3C,OAAO,EAAE,aAAa,EAAE,MAAM,6BAA6B,CAAA;AAC3D,OAAO,EAAE,KAAK,EAAE,0BAA0B,EAAE,MAAM,UAAU,CAAA;AAC5D,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAA;AAClD,OAAO,KAAK,KAAK,MAAM,uBAAuB,CAAA;AAC9C,OAAO,EAAE,eAAe,EAAE,MAAM,+BAA+B,CAAA;AAE/D,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,EAAE;IAC1B,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IAC7C,MAAM,iBAAiB,GAAG,MAAM,EAAkB,CAAA;IAClD,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;IAE3C,MAAM,sBAAsB,GAAG,WAAW,CAAC,GAAG,EAAE;QAC5C,MAAM,cAAc,GAAG,iBAAiB,CAAC,OAAO,CAAA;QAChD,0BAA0B,CAAC,cAAc,CAAC,CAAA;IAC9C,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,MAAM,UAAU,GAAG,WAAW,CAAC,GAAG,EAAE;QAChC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;IACvC,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,IAAI,CAAC,QAAQ,EAAE;QACX,OAAO,oBAAC,QAAQ,IAAC,OAAO,QAAC,EAAE,EAAE,KAAK,CAAC,YAAY,GAAI,CAAA;KACtD;IAED,OAAO,CACH,oBAAC,GAAG;QACA,oBAAC,GAAG,IAAC,EAAE,EAAC,GAAG;YACP,oBAAC,MAAM,IAAC,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE;gBAAE,oBAAC,KAAK,CAAC,SAAS,OAAE,CAAS,CAClF;QACN,oBAAC,GAAG;YACA,6BAAK,GAAG,EAAE,iBAAiB,EAAE,SAAS,EAAC,iBAAiB;gBACpD,oBAAC,iBAAiB,OAAG;gBACrB,oBAAC,QAAQ,OAAG;gBACZ,oBAAC,aAAa,IACV,kBAAkB,EAAE,sBAAsB,EAC1C,aAAa,EAAE,WAAW,GAC5B;gBACF,oBAAC,KAAK,IAAC,QAAQ,EAAE,QAAQ,GAAI,CAC3B,CACJ;QACN,oBAAC,GAAG;YACA,oBAAC,eAAe,OAAG,CACjB,CACJ,CACT,CAAA;AACL,CAAC,CAAA","sourcesContent":["import React, { useCallback, useRef, useState } from 'react'\nimport { useStore } from 'effector-react'\nimport { Navigate } from 'react-router-dom'\nimport { $sources } from '../store/sources'\nimport { SubtitleContainer } from '../components/SubtitleContainer'\nimport { Settings } from '../components/Settings'\nimport { Video } from '../components/Video'\nimport { VideoControls } from '../components/VideoControls'\nimport { ROUTS, toggleFullScreenForElement } from '../utils'\nimport { Button, Col, Row } from 'react-bootstrap'\nimport * as Icons from 'react-bootstrap-icons'\nimport { SubtitleSetting } from '../components/SubtitleSetting'\n\nexport const PageVideo = () => {\n    const { videoSrc } = useStore($sources.store)\n    const videoContainerRef = useRef<HTMLDivElement>()\n    const [goToTime, setGoToTime] = useState(0)\n\n    const handleToggleFullScreen = useCallback(() => {\n        const videoContainer = videoContainerRef.current\n        toggleFullScreenForElement(videoContainer)\n    }, [])\n\n    const handleBack = useCallback(() => {\n        $sources.action.onSetVideoSrc(null)\n    }, [])\n\n    if (!videoSrc) {\n        return <Navigate replace to={ROUTS.SELECT_VIDEO} />\n    }\n\n    return (\n        <Row>\n            <Col md=\"1\">\n                <Button onClick={handleBack} style={{ display: 'flex' }}><Icons.ArrowLeft/></Button>\n            </Col>\n            <Col>\n                <div ref={videoContainerRef} className='video-container'>\n                    <SubtitleContainer />\n                    <Settings />\n                    <VideoControls\n                        onToggleFullScreen={handleToggleFullScreen}\n                        onMoveVideoTo={setGoToTime}\n                    />\n                    <Video goToTime={goToTime} />\n                </div>\n            </Col>\n            <Col>\n                <SubtitleSetting />\n            </Col>\n        </Row>\n    )\n}"]}